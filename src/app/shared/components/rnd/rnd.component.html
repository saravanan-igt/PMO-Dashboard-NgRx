<div class="container-fluid" *ngIf="DataLists">
  <div class="row">
    <div class="col-md-6">
      <h2 class="page-title">{{ pageTitle }}</h2>
    </div>
    <div class="col-md-6">
      <nav aria-label="breadcrumb">
        <ol class="breadcrumb">
          <li class="breadcrumb-item"><a href="#">Home</a></li>
          <li class="breadcrumb-item active" aria-current="page">
            {{ pageTitle }}
          </li>
        </ol>
      </nav>
    </div>
  </div>
  <div class="row info-container">
    <button
      type="button"
      triggers="mouseenter:mouseleave"
      mat-icon-button
      class="info-btn text-white"
      [ngbPopover]="projectContent"
    >
      <mat-icon fontSet="material-icons-outlined">info</mat-icon>
    </button>
    <ng-template #projectContent
      ><p>
        These charts depict only Lottery R&D projects.
      </p>
      <strong>Lottery R&D</strong>
      <ul>
        <li>
          Active = Active/Approved projects with a live date in the future,
          includes those in On Hold status.
        </li>
        <li>
          Closed = Active/Approved or Inactive projects with actuals, and a go
          live date in the past (within 2020).
        </li>
        <li>
          Planned = Active/Unapproved projects with a 0,1,2 probability, and a
          forecast greater than 0.
        </li>
      </ul>
    </ng-template>
    <div class="col-md-4">
      <app-project-category
        chartTitle="Total Projects"
        [data]="lotteryProjectsData"
        height="200"
      ></app-project-category>
    </div>
    <div class="col-md-4">
      <app-budget-chart
        chartTitle="Total Budget"
        [data]="totalBudgetData"
      ></app-budget-chart>
    </div>
    <div class="col-md-4">
      <app-budget-chart
        chartTitle="RAG Status"
        [data]="totalRiskData"
        [labelFormatter]="'{c}'"
        [totalText]="false"
        [color]="[
          'rgba(255,91,86,0.85)',
          'rgba(245,156,26,0.85)',
          'rgba(0,191,165,0.85)'
        ]"
      ></app-budget-chart>
    </div>
  </div>

  <div class="row mt-4 info-container">
    <button
      type="button"
      triggers="mouseenter:mouseleave"
      mat-icon-button
      class="info-btn"
      [ngbPopover]="projectListContent"
    >
      <mat-icon fontSet="material-icons-outlined">info</mat-icon>
    </button>
    <ng-template #projectListContent
      ><p>
        This section displays the specific Lottery R&D projects that are
        included as either Planned, Active, or Closed. This data is updated
        daily.
      </p>
    </ng-template>
    <div class="col-md-4">
      <app-project-card
        [cardTitle]="'Planned Projects'"
        [projectList]="plannedProjects"
      ></app-project-card>
    </div>
    <div class="col-md-4">
      <app-project-card
        [cardTitle]="'Active Projects'"
        [projectList]="activeProjects"
      ></app-project-card>
    </div>
    <div class="col-md-4">
      <app-project-card
        [cardTitle]="'Closed Projects'"
        [projectList]="closedProjects"
      ></app-project-card>
    </div>
  </div>

  <div class="row mt-4 info-container">
    <button
      type="button"
      triggers="mouseenter:mouseleave"
      mat-icon-button
      class="info-btn"
      [ngbPopover]="goLiveContent"
    >
      <mat-icon fontSet="material-icons-outlined">info</mat-icon>
    </button>
    <ng-template #goLiveContent
      ><p>
        The calendar graphic displays only Active (in delivery) Lottery R&D
        projects.
      </p>
      <p>
        The triangles are positioned under the month of go live with the color
        representing the risk level of project as indicated in the RAG status
        section. Hovering over a triangle reveals the exact go live date.
      </p>
      <!-- <p class="text-danger-tooltip">
        *drc â€“ this calendar does not behave like the overall Dashboards to
        isolate projects per RAG status, is there are reason for that?
      </p> -->
    </ng-template>
    <div class="col-12">
      <app-go-live-calendar
        [scheduleData]="scheduleData"
        [calendarTitle]="'Go-Live Calendar'"
        [ragFilter]="true"
      ></app-go-live-calendar>
    </div>
  </div>
</div>
